<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="hr_payslip_view_form_inherited_worked_days" model="ir.ui.view">
        <field name="name">hr.payslip.form.inherited.worked.days</field>
        <field name="model">hr.payslip</field>
        <field name="inherit_id" ref="hr_payroll.view_hr_payslip_form"/>
        <field name="arch" type="xml">
            <!-- Locate the worked_days_line_ids tree and add the computed fields after 'name' -->
            <xpath expr="//field[@name='worked_days_line_ids']/tree/field[@name='name']" position="after">
                <field name="hourly_rate" optional="show"/>
                <field name="total_delay_hours" string="Total Delay Hours" widget="float_time" optional="show"/>
                <field name="total_checkin_delay" string="Check-In Delay" widget="float_time" optional="hide"/>
                <field name="total_checkout_delay" string="Check-Out Delay" widget="float_time" optional="hide"/>
                <field name="attendance_deduction" string="Attendance Deduction" optional="hide"/>
            </xpath>
            <xpath expr="//field[@name='line_ids']/tree" position="replace">
                 <tree string="Salary Structure" editable="bottom" decoration-info="total == 0" create="0" delete="1" edit="1">
                     <field name="name"/>
                     <field name="code" readonly="1" force_save="1" optional="hide"/>
                     <field name="category_id" readonly="1" force_save="1"/>
                     <field name="sequence" readonly="1" column_invisible="True" force_save="1"/>
                     <field name="quantity" readonly="1" force_save="1"/>
                     <field name="rate" readonly="1" force_save="1"/>
                     <field name="salary_rule_id" groups="base.group_no_one" readonly="1" force_save="1"/>
                     <field name="amount" readonly="0" force_save="1"/>
                     <field name="total" readonly="1" force_save="1"/>
                     <field name="currency_id" column_invisible="True"/>
                 </tree>
            </xpath>
        </field>
    </record>
</odoo>

